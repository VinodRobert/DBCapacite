/****** Object:  Table [dbo].[EMPLOANS]    Committed by VersionSQL https://www.versionsql.com ******/

SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
CREATE TABLE [dbo].[EMPLOANS](
	[PRLID] [int] NOT NULL,
	[EMPNUMBER] [nvarchar](15) NOT NULL,
	[LOAN] [money] NOT NULL,
	[DEDUAMOUNT] [money] NOT NULL,
	[LOANID] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[LOANDATE] [datetime] NOT NULL,
	[EDSHID] [int] NOT NULL,
	[INTEREST] [decimal](18, 2) NOT NULL,
	[DESCRIPTION] [nvarchar](75) NOT NULL,
	[EDSID] [int] NOT NULL,
	[REFNO] [nvarchar](20) NOT NULL,
	[LOANACTDATE] [datetime] NOT NULL,
 CONSTRAINT [PK_EMPLOANS] PRIMARY KEY CLUSTERED 
(
	[LOANID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 90) ON [PRIMARY],
 CONSTRAINT [IX_EMPLOANS_REFNO] UNIQUE NONCLUSTERED 
(
	[REFNO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY]

SET ANSI_PADDING ON

CREATE NONCLUSTERED INDEX [IX_EMPLOANS] ON [dbo].[EMPLOANS]
(
	[PRLID] ASC,
	[EMPNUMBER] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 90) ON [PRIMARY]
ALTER TABLE [dbo].[EMPLOANS] ADD  CONSTRAINT [DF_EMPLOANS_LOAN]  DEFAULT (0) FOR [LOAN]
ALTER TABLE [dbo].[EMPLOANS] ADD  CONSTRAINT [DF_EMPLOANS_PERIODS]  DEFAULT (0) FOR [DEDUAMOUNT]
ALTER TABLE [dbo].[EMPLOANS] ADD  CONSTRAINT [DF_EMPLOANS_LOANDATE]  DEFAULT (getdate()) FOR [LOANDATE]
ALTER TABLE [dbo].[EMPLOANS] ADD  CONSTRAINT [DF_EMPLOANS_EDSHID]  DEFAULT (0) FOR [EDSHID]
ALTER TABLE [dbo].[EMPLOANS] ADD  CONSTRAINT [DF_EMPLOANS_INTEREST]  DEFAULT (0) FOR [INTEREST]
ALTER TABLE [dbo].[EMPLOANS] ADD  CONSTRAINT [DF_EMPLOANS_REFNO]  DEFAULT ('') FOR [REFNO]
ALTER TABLE [dbo].[EMPLOANS] ADD  CONSTRAINT [DF_EMPLOANS_LOANACTDATE]  DEFAULT ('01/01/2000') FOR [LOANACTDATE]
ALTER TABLE [dbo].[EMPLOANS]  WITH CHECK ADD  CONSTRAINT [FK_EMPLOANS_EDSETS] FOREIGN KEY([EDSID])
REFERENCES [dbo].[EDSETS] ([EDSID])
ALTER TABLE [dbo].[EMPLOANS] CHECK CONSTRAINT [FK_EMPLOANS_EDSETS]
ALTER TABLE [dbo].[EMPLOANS]  WITH CHECK ADD  CONSTRAINT [FK_EMPLOANS_EMPLOYEES] FOREIGN KEY([PRLID], [EMPNUMBER])
REFERENCES [dbo].[EMPLOYEES] ([PAYROLLID], [EMPNUMBER])
ALTER TABLE [dbo].[EMPLOANS] CHECK CONSTRAINT [FK_EMPLOANS_EMPLOYEES]