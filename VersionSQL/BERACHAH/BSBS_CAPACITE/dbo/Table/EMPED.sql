/****** Object:  Table [dbo].[EMPED]    Committed by VersionSQL https://www.versionsql.com ******/

SET ANSI_NULLS ON
SET QUOTED_IDENTIFIER ON
CREATE TABLE [dbo].[EMPED](
	[PRLID] [int] NOT NULL,
	[EMPNUMBER] [nvarchar](15) NOT NULL,
	[EDSNUMBER] [nvarchar](5) NOT NULL,
	[EDSCODE] [nvarchar](5) NOT NULL,
	[PERIODNO] [smallint] NOT NULL,
	[RUNNO] [smallint] NOT NULL,
	[YEARNO] [smallint] NOT NULL,
	[THEMONEY] [money] NOT NULL,
	[OVERWRITE] [decimal](18, 4) NOT NULL,
	[EDSHID] [int] NOT NULL,
	[EMPEDID] [int] IDENTITY(1,1) NOT FOR REPLICATION NOT NULL,
	[MONEYTAXABLE] [money] NOT NULL,
 CONSTRAINT [PK_EMPED] PRIMARY KEY CLUSTERED 
(
	[EMPEDID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 90) ON [PRIMARY],
 CONSTRAINT [IX_EMPED] UNIQUE NONCLUSTERED 
(
	[PRLID] ASC,
	[EMPNUMBER] ASC,
	[EDSNUMBER] ASC,
	[PERIODNO] ASC,
	[RUNNO] ASC,
	[YEARNO] ASC,
	[EDSHID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 90) ON [PRIMARY]
) ON [PRIMARY]

SET ANSI_PADDING ON

CREATE NONCLUSTERED INDEX [IX_ED_PRLID_EMPNUMBER_YEARNO_PERIODNO_RUNNO_EDSHID_EDSNUMBER] ON [dbo].[EMPED]
(
	[PRLID] ASC,
	[EMPNUMBER] ASC,
	[YEARNO] ASC,
	[PERIODNO] ASC,
	[RUNNO] ASC,
	[EDSHID] ASC,
	[EDSNUMBER] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, FILLFACTOR = 90) ON [PRIMARY]
ALTER TABLE [dbo].[EMPED] ADD  CONSTRAINT [DF_EMPED_RUNNO_1]  DEFAULT (1) FOR [RUNNO]
ALTER TABLE [dbo].[EMPED] ADD  CONSTRAINT [DF_EMPED_MONTHVAL]  DEFAULT (0) FOR [YEARNO]
ALTER TABLE [dbo].[EMPED] ADD  CONSTRAINT [DF_EMPED_YEARVAL]  DEFAULT (0) FOR [THEMONEY]
ALTER TABLE [dbo].[EMPED] ADD  CONSTRAINT [DF_EMPED_OVERWRITE]  DEFAULT (0) FOR [OVERWRITE]
ALTER TABLE [dbo].[EMPED] ADD  CONSTRAINT [DF_EMPED_MONEYTAXABLE]  DEFAULT (0) FOR [MONEYTAXABLE]
ALTER TABLE [dbo].[EMPED]  WITH CHECK ADD  CONSTRAINT [FK_EMPED_EDSETS] FOREIGN KEY([EDSNUMBER], [PRLID], [EDSHID])
REFERENCES [dbo].[EDSETS] ([EDSNUMBER], [PAYROLLID], [EDSHID])
ALTER TABLE [dbo].[EMPED] CHECK CONSTRAINT [FK_EMPED_EDSETS]
ALTER TABLE [dbo].[EMPED]  WITH CHECK ADD  CONSTRAINT [FK_EMPED_EMPLOYEES] FOREIGN KEY([PRLID], [EMPNUMBER])
REFERENCES [dbo].[EMPLOYEES] ([PAYROLLID], [EMPNUMBER])
ALTER TABLE [dbo].[EMPED] CHECK CONSTRAINT [FK_EMPED_EMPLOYEES]
ALTER TABLE [dbo].[EMPED]  WITH CHECK ADD  CONSTRAINT [FK_EMPED_PAYROLLS] FOREIGN KEY([PRLID])
REFERENCES [dbo].[PAYROLLS] ([PAYROLLID])
ALTER TABLE [dbo].[EMPED] CHECK CONSTRAINT [FK_EMPED_PAYROLLS]